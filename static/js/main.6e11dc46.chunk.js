(this["webpackJsonpresource-planning"]=this["webpackJsonpresource-planning"]||[]).push([[0],{152:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(20),s=a.n(o),c=(a(71),a(72),a(13)),i=a(14),d=a(16),l=a(15),u=a(26),m=a(12),p=a.n(m),h=a(51),f=a.n(h);a(74);var y=function(e){var t=e.i,a=e.month,n=e.daysNumber;return e.size,e.getWidthRow,r.a.createElement("div",{className:0===t?"month":"month borderLine",style:{width:"".concat(100/n*a.sum,"%")}},a.month)};function v(e){var t=e.day,a=e.daysNumber;return r.a.createElement("div",{className:"day",style:{width:"".concat(100/a,"%")}},r.a.createElement("p",null,t.date),r.a.createElement("p",null,t.weekDay))}var b=a(63),g=a.n(b),D=a(21),E=a.n(D),k=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).nameOfClass=n.props.nameOfClass,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.nameOfClass},r.a.createElement("button",{onClick:function(){return e.props.handler(!1)}},r.a.createElement("img",{src:E.a,alt:"button-icon"})),this.props.children,r.a.createElement("button",{onClick:function(){return e.props.handler(!0)}},r.a.createElement("img",{src:g.a,alt:"button-icon"})))}}]),a}(n.Component);a(75);var w=function(e){var t=e.getDaysInRow,a=Object(n.useState)(5),o=Object(u.a)(a,2),s=o[0],c=o[1],i=Object(n.useState)([]),d=Object(u.a)(i,2),l=d[0],m=d[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),g=b[0],D=b[1],E=Object(n.useState)((new Date).getTime()),w=Object(u.a)(E,2),j=w[0],O=w[1],N=Object(n.useState)((new Date).setDate((new Date).getDate()+s)),S=Object(u.a)(N,2),M=S[0],R=S[1];return Object(n.useEffect)((function(){var e=Math.round((M-j)/864e5),a=e>21?21:e;0!==a&&c(a);for(var n=[],r=0;r<a+1;r++){var o=p()(j).add(1*r,"day").format("dd"),s=p()(j).add(1*r,"day").date(),i=p()(j).add(1*r,"day").format("MMMM"),d=p()(j).add(1*r,"day").year();n.push({id:o+"-"+s+"-"+i,weekDay:o,date:s,month:i,year:d,projects:{}})}var l=n.reduce((function(e,t){return e[t.month]=(e[t.month]||0)+1,e}),{}),u=Object.keys(l).map((function(e){return{month:e,sum:l[e]}}));m(n),D(u),t(n)}),[j,M,s,t]),r.a.createElement("div",{className:"DatePickerHeader container-fluid"},r.a.createElement("div",{className:"picker"},r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"dates"},r.a.createElement(f.a,{selected:j,onChange:function(e){return O(e.getTime())},selectsStart:!0,startDate:j,endDate:M,dateFormat:"MMMM d, yyyy"}),r.a.createElement(f.a,{selected:M>j?M:j,onChange:function(e){return R(e.getTime())},selectsEnd:!0,startDate:j,endDate:M,minDate:j,dateFormat:"MMMM d, yyyy"}),r.a.createElement("button",{id:"clearButton",onClick:function(){return O((new Date).getTime()),void R((new Date).setDate((new Date).getDate()+14))}},"Clear")))),r.a.createElement("div",{className:"datesShow"},r.a.createElement(k,{handler:function(e){var t,a;e?(t=p()(j).add(1,"month").format("x"),a=p()(M).add(1,"month").format("x")):(t=p()(j).subtract(1,"month").format("x"),a=p()(M).subtract(1,"month").format("x")),O(+t),R(+a)},nameOfClass:"months"},g.map((function(e,t){return r.a.createElement(y,{i:t,key:"month-"+e.month+"-"+t,month:e,daysNumber:s})}))),r.a.createElement(k,{handler:function(e){e?(O(j+864e5),R(M+864e5)):(O(j-864e5),R(M-864e5))},nameOfClass:"days"},l.map((function(e){return r.a.createElement(v,{key:"headerDate-"+e.date+"-"+e.i,day:e,daysNumber:s})})))))},j=a(25),O=a(39),N=a(6),S=a(18);n.Component;function M(e){var t=e.piece,a=e.daysNumber,n=document.querySelector(".handlers"),o=document.querySelectorAll(".rightHandler");console.log(o);for(var s=function(e){var t=o[e];function a(e){t.classList.contains("rightHandler")&&(n.style.width=e.pageX-n.getBoundingClientRect().left+"px")}function r(){window.removeEventListener("mousemove",a)}t.addEventListener("mousedown",(function(e){e.preventDefault(),window.addEventListener("mousemove",a),window.addEventListener("mouseup",r)}))},c=0;c<o.length;c++)s(c);return t?r.a.createElement(S.Draggable,{key:t.id+"-draggable",style:{overflow:"visible",position:"absolute",left:t.left,width:"".concat(100/a,"%")}},r.a.createElement("div",{className:"handlers ".concat(t.type)},r.a.createElement("div",{className:"project"},t.title),r.a.createElement("div",{className:"resizer leftHandler"}),r.a.createElement("div",{className:"resizer rightHandler"}))):null}var R=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onDrop=n.onDrop.bind(Object(N.a)(n)),n.shouldAcceptDrop=n.shouldAcceptDrop.bind(Object(N.a)(n)),n.onDragEnter=n.onDragEnter.bind(Object(N.a)(n)),n.onDragEnd=n.onDragEnd.bind(Object(N.a)(n)),n.onDragLeave=n.onDragLeave.bind(Object(N.a)(n)),n.toggler=n.toggler.bind(Object(N.a)(n)),n.onDragStart=n.onDragStart.bind(Object(N.a)(n)),n.handleMouseMove=n.handleMouseMove.bind(Object(N.a)(n)),n.onDropReady=n.onDropReady.bind(Object(N.a)(n)),n.myRef=r.a.createRef(),n.state={startDrag:!1,days:[],daysNumber:null,dayOffsetLeft:0,daysRowWidth:0,x:0,cellWidth:null,board:[{departamentName:"BACKEND",show:!0,workers:[{id:"back-1",name:"Leonid",surname:"Bondar",department:"back",projects:[{left:0,positionY:1,id:"back-1-1",title:"Startup",projStart:"Aug 15 2020",duration:2,type:"main"}]},{id:"back-2",name:"Boris",surname:"Koval",department:"back",projects:[]},{id:"back-3",name:"Afanasy",surname:"Marchenko",department:"back",projects:[]},{id:"back-4",name:"Artur",surname:"Rudenko",department:"back",projects:[{left:240,positionY:1,id:"back-4-1",title:"Manifest",projStart:"Aug 19 2020",duration:4,type:"education"}]},{id:"back-5",name:"Mikhail",surname:"Petrenko",department:"back",projects:[]}]},{departamentName:"QA",show:!0,workers:[{id:"qa-1",name:"Leonid",surname:"Bondar",department:"qa",projects:[{left:120,positionY:1,id:"qa-1-1",title:"Startup 1",projStart:"Aug 15 2020",duration:2,type:"main"},{left:524,positionY:1,id:"qa-1-2",title:"Startup 2",projStart:"Aug 15 2020",duration:2,type:"main"}]},{id:"qa-2",name:"Boris",surname:"Koval",department:"qa",projects:[]},{id:"qa-3",name:"Afanasy",surname:"Marchenko",department:"qa",projects:[]},{id:"qa-4",name:"Artur",surname:"Rudenko",department:"qa",projects:[]}]}]},n}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.days!==this.props.days?this.setState({days:e.days,daysNumber:e.days.length}):e.cellWidth!==this.props.cellWidth&&(this.wert=e.cellWidth&&e.cellWidth,this.setState({cellWidth:e.cellWidth}))}},{key:"toggler",value:function(e){var t=Object(O.a)(this.state.board);t[e]=Object(j.a)(Object(j.a)({},t[e]),{},{show:!t[e].show}),this.setState({board:t})}},{key:"render",value:function(){var e=this,t=this.myRef.current&&this.myRef.current.offsetWidth/this.state.daysNumber;return r.a.createElement("div",{className:"AbsoluteSmooth"},this.state.board.map((function(a,n){return r.a.createElement("div",{key:a.departamentName+"-"+n},r.a.createElement("div",{className:"departmentTitle"},r.a.createElement("h5",null,a.departamentName),r.a.createElement("button",{onClick:function(){return e.toggler(n)},className:"departmentBtn"},r.a.createElement("img",{className:a.show?"show":"hide",src:E.a,alt:"arrow icon"}))),r.a.createElement("div",{className:"departmentBlock ".concat(a.show?"showDepartament":"hideDepartament")},a.workers.map((function(o,s){return r.a.createElement("div",{className:"dayRow",key:o.surname+"-dayRow-"+s},r.a.createElement("p",null,o.name," ",o.surname),r.a.createElement("div",{ref:e.myRef,id:"inside",className:"day",onMouseMove:e.handleMouseMove},r.a.createElement(S.Container,{style:{position:"relative",height:"100%"},behaviour:"drop-zone",onDrop:function(a){return e.onDrop(a,n,s,t)},shouldAcceptDrop:function(t,a){return e.shouldAcceptDrop(a,n,s)},getChildPayload:function(e){return a.workers[s].projects[e]},onDragLeave:function(){return e.onDragLeave(n,s)},animationDuration:"none",dropClass:"dropClass",onDragStart:function(t){return e.onDragStart(t,n,s)},onDragEnd:function(a){return e.onDragEnd(a,n,s,t)}},o.projects.map((function(t,a){return r.a.createElement(M,{key:"piece "+a,daysNumber:e.state.daysNumber,piece:t})})))))}))))})))}},{key:"componentDidMount",value:function(){var e=document.getElementById("inside").offsetLeft;this.setState({dayOffsetLeft:e})}},{key:"componentWillUpdate",value:function(){}},{key:"shouldAcceptDrop",value:function(e,t,a,n){return!0}},{key:"onDrop",value:function(e,t,a,n){var r=e.addedIndex,o=e.removedIndex,s=e.payload,c=Object.assign({},s);c.left=Math.round(this.state.x/n)*n,null===r&&null===o||(null!==o&&this.state.board[t].workers[a].projects.splice(o,1),null!==r&&this.state.board[t].workers[a].projects.push(c),this.setState({startDrag:!1}))}},{key:"handleMouseMove",value:function(e){this.state.startDrag&&this.setState({x:e.nativeEvent.x-this.state.dayOffsetLeft})}},{key:"onDragStart",value:function(e,t,a){this.setState({startDrag:!0})}},{key:"onDragEnter",value:function(e,t,a){}},{key:"onDragEnd",value:function(e,t,a){}},{key:"onDropReady",value:function(e){}},{key:"onDragLeave",value:function(e,t,a){}}]),a}(n.Component);R.defaultProps={};var C=R,L=function(e){Object(d.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).getDaysInRow=function(e){n.setState({daysInRow:e})},n.state={daysInRow:[],rowWidth:null},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"System container-fluid"},r.a.createElement(w,{getDaysInRow:this.getDaysInRow}),r.a.createElement(C,{days:this.state.daysInRow})))}}]),a}(n.Component);var A=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,a){e.exports=a.p+"static/media/buttonLeft.e5208634.svg"},63:function(e,t,a){e.exports=a.p+"static/media/buttonRight.fb0a3ebd.svg"},66:function(e,t,a){e.exports=a(152)},72:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.6e11dc46.chunk.js.map